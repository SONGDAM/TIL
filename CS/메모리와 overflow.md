## 메모리

<hr>

컴퓨터에서는 프로그램이 작동될 때 저장하는 RAM(Random access Memory)라는 물리적 저장장치를 포함하고 있다. RAM은 유한한크기의 비트만 저장할 수 있기때문에 특정 정수이상으로 가면  
때떄로 부정확한 결과를 내기도 한다.

얘를 들어 c언어로 X와 Y를 인자로 받아 간단한 나눗셈을 하는 코드를 작성한다고 해보자. 50자리까지 출력한다고하고 x에 1을 y에 10을 입력하면 아래와 같은 결과가 나온다.

x: 1
y: 10
x / y = 0.10000000149011611938476562500000000000000000000000

정확한 결과는 0.1이 되어야하지만 저장가능한 bit수가 유한하기 떄문에 부정확한 결과를 내는 것이다.

### 메모리의 구조

<hr>

아래 그림에서와 같이 메모리 안에는 데이터 저장되는 구역이 나뉘어져 있다.

<br>

<img src='https://cs50.harvard.edu/x/2020/notes/4/memory_layout.png'>

<br>

머신 코드 영역에는 우리 프로그램이 실행될 때 그 프로그램이 컴파일된 바이너리가 저장된다.

글로벌 영역에는 우리가 작성한 코드 안에서 저장된 전역 변수가 저장됩니다.

힙 영역에는 C언어의 함수 malloc()으로 할당된 메모리의 데이터가 저장된다. 그리고 스택에는 프로그램 내의 함수와 관련된 것들이 저장된다.

여기서 자바스크립트의 이벤트루프와 차이가 좀 존재한다.

### overflow

<hr>

위의 메모리 구조에서 malloc으로 저장한 변수의 메모리가 점점 늘어날수록 메모리를 사용하는 범위가 아래로 늘어나고
stack영역에서는 함수가 더 많이 호출될수록 사용하는 범위가 점점 늘어난다.

예시를 들어보자.

비슷한 루프로 1부터 시작하여 2를 계속 곱하여 출력하는 for loop 코드를 짰을때 2를 계속 곱하다가 int 자료형이 저장할 수 있는 수를 넘은 이후에는 아래와 같이

...
1073741824
overflow.c:6:25: runtime error: signed integer overflow: 1073741824 \* 2 cannot be represented in type 'int'
-2147483648
0
0
...

int의 한계인 32비트를 초과했기떄문에 더 이상 넘어갈 1의자리 가없고 또한 그 이상의 숫자는 저장할 수 없어 runtime에러가 발생한다.
